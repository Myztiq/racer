// Generated by CoffeeScript 1.3.3
(function() {
  var Controls, currentStatus, mapping,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  currentStatus = {
    forward: {
      down: false,
      pressed: false
    },
    backward: {
      down: false,
      pressed: false
    },
    reset: {
      down: false,
      pressed: false
    }
  };

  mapping = {
    37: 'forward',
    39: 'backward',
    82: 'reset'
  };

  Controls = (function() {

    function Controls() {
      this.getControlStatus = __bind(this.getControlStatus, this);

      var _this = this;
      $('body').keydown(function(e) {
        var map;
        map = mapping[e.keyCode];
        if (map != null) {
          return currentStatus[map].down = true;
        }
      });
      $('body').keyup(function(e) {
        var map;
        map = mapping[e.keyCode];
        if (map != null) {
          currentStatus[map].down = false;
          return currentStatus[map].pressed = true;
        }
      });
    }

    Controls.prototype.getControlStatus = function() {
      var key, obj, tmp;
      tmp = {};
      for (key in currentStatus) {
        obj = currentStatus[key];
        tmp[key] = {
          down: obj.down,
          pressed: obj.pressed
        };
        obj.pressed = false;
      }
      return tmp;
    };

    return Controls;

  })();

  window.Controls = Controls;

}).call(this);
